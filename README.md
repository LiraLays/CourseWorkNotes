# Умный Планировщик Задач с Формальной Верификацией

## О проекте

WPF приложение для управления задачами с интегрированной системой формальной верификации. Проект объединяет четыре ключевых аспекта программной инженерии: контрактное программирование, WP-исчисление, проверку инвариантов и булеву алгебру в практической системе управления задачами.

**Основная цель**: Создание надежной системы планирования задач с математически доказанной корректностью критических операций через интеграцию формальных методов верификации.

## Архитектура проекта
- src/
  - Lab1_TaskScheduler
    - Core
      - Models
        - TaskItem.cs
      - Contracts
        - OperationContracts.cs
      - Verification
        - TaskVerificationEngine.cs
      - Expressions
        - SimpleExpressions.cs
      - Services
        - TaskSchedulerService.cs
  - WpfTaskScheduler
    - ViewModels
      - MainViewModel.cs
    - MainWindow.xaml
- tests/
  - TaskSchedulerUnitTests.cs
- docs/
  - Отчёт.docx
## Функциональность

### Управление задачами

**Добавление задач**
- Валидация входных данных на уровне пользовательского интерфейса
- Проверка корректности дедлайнов и приоритетов
- Автоматическая генерация демо-задач для тестирования

**Фильтрация задач**
- По дедлайну (просроченные и срочные задачи)
- По приоритету (только высокоприоритетные задачи)
- Кастомные булевы условия фильтрации
- Комбинирование нескольких критериев

**Отметка выполнения**
- Визуальное отображение статуса задач
- Автоматическое обновление фильтров после выполнения

### Формальная верификация

**Контрактное программирование**
- Предусловия для всех критических операций
- Постусловия гарантирующие корректность состояния
- Инварианты сохраняемые между операциями

**WP-исчисление**
- Автоматический расчет weakest preconditions
- Верификация корректности операций фильтрации
- Генерация шагов доказательства

**Булева алгебра**
- Парсинг и выполнение сложных условий фильтрации
- Поддержка логических операторов и скобок
- Нормализация булевых выражений

### Визуальные возможности

- Интерактивный интерфейс с реальным обновлением данных
- Визуализация результатов верификации
- Подсветка ошибок валидации
- Динамическое отображение отфильтрованных задач
- Лог операций с детализацией шагов

## Технологии

- .NET 8 - целевая платформа
- WPF - пользовательский интерфейс
- MVVM - архитектурный паттерн
- INotifyPropertyChanged - механизм уведомлений об изменениях
- XAML - разметка пользовательского интерфейса
- MSTest - фреймворк для модульного тестирования

## Принципы работы системы

### Модель данных задачи

Каждая задача содержит обязательные атрибуты: название, описание, дедлайн, приоритет и статус выполнения. Система автоматически вычисляет производные свойства - просроченность и срочность задачи.

### Верификация операций

**Добавление задачи**
```csharp
PRE: task ≠ null ∧ ¬IsEmpty(task.Title) ∧ task.Deadline > Now() ∧ task.Priority ∈ [1,4]
POST: Tasks.Contains(task) ∧ Tasks.Count = old(Tasks.Count) + 1
```

**Фильтрация задач**
```csharp
PRE: byDeadline ∨ byPriority ∨ ¬IsEmpty(customFilter)
POST: result ≠ null ∧ ∀t ∈ result: t удовлетворяет условиям фильтра
```

### Булева фильтрация
Система поддерживает сложные условия фильтрации с использованием логических операторов:
- ```Priority == 1``` - задачи с высоким приоритетом
- ```IsOverdue == true``` - просроченные задачи
- ```(Priority == 1) & (IsOverdue == true)``` - комбинированные условия

## Запуск проекта

### Предварительные требования
- .NET 8 SDK или выше
- Visual Studio 2022 или VS Code с C# расширениями

### Инструкция по запуску
1. Клонирование репозитория
```bash
git clone <repository-url>
cd SmartTaskScheduler
```
2. Восстановление зависимостей
```bash
dotnet restore
```
3. Сборка проекта
```bash
dotnet build
```
4. Запуск приложения
```bash
dotnet run
```
*Альтернативный запуск через Visual Studio*
- Откройте SmartTaskScheduler.sln
- Установите WPF проект как стартовый
- Нажмите F5 для запуска

## Использование приложения
**Быстрый старт**
1. Запустите приложение
2. Используйте кнопку "Быстрая задача" для создания тестовых данных
3. Поэкспериментируйте с фильтрами по дедлайну и приоритету

**Добавление пользовательской задачи**
1. Заполните поля: Название, Дедлайн, Приоритет
2. Нажмите "Добавить задачу"
3. Система автоматически проверит корректность данных

**Использование кастомных фильтров**
1. Введите условие в поле фильтра, например: ```Priority == 1```
2. Нажмите Enter или дождитесь автоматического применения
3. Изучите результаты в панели верификации

**Анализ верификации**
1. Выполните любую операцию фильтрации
2. Откройте панель "Верификация"
3. Изучите сгенерированные доказательства корректности

## Примеры использования
**Пример 1: Поиск срочных задач**
```text
Фильтр: По дедлайну = true, По приоритету = true
Результат: Будут показаны задачи с высоким приоритетом И дедлайном в ближайшие 24 часа
```
**Пример 2: Сложное условие фильтрации**
```text
Кастомный фильтр: (Priority == 1) | (IsOverdue == true)
Результат: Будут показаны все высокоприоритетные ИЛИ все просроченные задачи
```
**Пример 3: Верификация операции**
```text
Операция: Фильтрация по условию "Priority == 2"
WP-результат: Условие определенности выполнено, инвариант сохранен
```
## Структура данных
**Класс TaskItem**
Основной класс для представления задачи
```csharp
public class TaskItem : INotifyPropertyChanged
{
    public string Title { get; set; }
    public string Description { get; set; }
    public DateTime Deadline { get; set; }
    public int Priority { get; set; }
    public bool IsCompleted { get; set; }
    public DateTime CreatedDate { get; set; }
    
    public bool IsOverdue { get; }
    public bool IsUrgent { get; }
}
```
**Класс TaskSchedulerService**
Сервис управления задачами с верификацией
```csharp
public class TaskSchedulerService
{
    public IReadOnlyList<TaskItem> Tasks { get; }
    public bool AddTask(TaskItem task);
    public VerifiedFilterResult FilterTasks(string customFilter, bool byDeadline, bool byPriority);
}
```
**Интерфейс верификации**
Система формальной проверки операций
```csharp
public class TaskVerificationEngine
{
    public VerificationResult VerifyFilterOperation(string filterFormula, 
        IEnumerable<TaskItem> tasks, bool byDeadline, bool byPriority);
}
```
## Особенности реализации
**Надежность системы**
- Многоуровневая валидация данных
- Формальные доказательства корректности операций
- Защита от некорректных состояний
**Пользовательский интерфейс**
- Реактивный дизайн на основе MVVM
- Интуитивная навигация и визуальная обратная связь
- Динамическое обновление без перезагрузки
**Производительность**
- Эффективные алгоритмы фильтрации
- Оптимизированная работа с коллекциями
- Быстрая генерация доказательств
**Тестируемость**
- Полное покрытие unit-тестами
- Изолированное тестирование компонентов
- Тесты на граничные случаи и ошибочные сценарии

## Дальнейшее развитие
Возможные направления для улучшения проекта:
1. **Расширенная булева логика** - поддержка вложенных выражений и дополнительных операторов
2. **Временная логика** - верификация временных ограничений и дедлайнов
3. **Интеграция с БД** - сохранение задач и истории операций
4. **Многопользовательский режим** - разделение задач между пользователями
5. **Автоматическое планирование** - генерация оптимальных расписаний
6. **Расширенная аналитика** - статистика и прогнозирование загрузки

## Разработчики
Разработчики: Полосков А.Д. Дубков С.В. Проект разработан в учебных целях для демонстрации практического применения формальных методов верификации в современных программных системах. Интегрирует четыре ключевых направления компьютерных наук в единую практическую систему.